"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[17],{193:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var s=t(5893),o=t(1151);const r={title:"First steps",sidebar_position:2},l=void 0,i={id:"development/extensions/starting-out",title:"First steps",description:"Anything that only works unsandboxed will be noted, but regardless, we will assume you are creating an unsandboxed extension during this tutorial.",source:"@site/docs/development/extensions/starting-out.md",sourceDirName:"development/extensions",slug:"/development/extensions/starting-out",permalink:"/PenguinMod-Docs/development/extensions/starting-out",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"First steps",sidebar_position:2},sidebar:"customExtensions",previous:{title:"Creating a Custom Extension",permalink:"/PenguinMod-Docs/development/extensions/introduction"},next:{title:"Making a reporter",permalink:"/PenguinMod-Docs/development/extensions/making-a-reporter"}},c={},d=[{value:"Let&#39;s start simple",id:"lets-start-simple",level:2},{value:"Defining our extension contents",id:"defining-our-extension-contents",level:2},{value:"Extension ID",id:"extension-id",level:3},{value:"Extension Name",id:"extension-name",level:3},{value:"color1, color2, and color3",id:"color1-color2-and-color3",level:3},{value:"docsURI",id:"docsuri",level:3},{value:"Let&#39;s make a block",id:"lets-make-a-block",level:2},{value:"Block Types",id:"block-types",level:3},{value:"Our example is done",id:"our-example-is-done",level:2},{value:"Next steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Anything that only works unsandboxed will be noted, but regardless, we will assume you are creating an unsandboxed extension during this tutorial."})}),"\n",(0,s.jsx)(n.h2,{id:"lets-start-simple",children:"Let's start simple"}),"\n",(0,s.jsxs)(n.p,{children:["Let's create the first beginnings of our extension.",(0,s.jsx)(n.br,{}),"\n","Create a new JavaScript file (file extension is ",(0,s.jsx)(n.code,{children:".js"}),") and place a function that runs on start."]}),"\n",(0,s.jsxs)(n.p,{children:["We'll want this function to take an input, a ",(0,s.jsx)(n.code,{children:"Scratch"})," global object that is given to extensions.",(0,s.jsx)(n.br,{}),"\n","This object gives us some tools we'll need for creating blocks."]}),"\n",(0,s.jsx)(n.p,{children:"The cleanest way to do this is like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"(function(Scratch) {\r\n  'use strict';\r\n  \r\n})(Scratch);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["We are using a function with ",(0,s.jsx)(n.code,{children:"'use strict'"})," here to prevent any variables we create to enter the global scope.",(0,s.jsx)(n.br,{}),"\n","This will prevent any ",(0,s.jsx)(n.em,{children:"weirdness"})," once other extensions try to create variables or things with the same name."]}),"\n",(0,s.jsx)(n.p,{children:"Next let's create a class for our extension. This will be where most of the code for our extension will be."}),"\n",(0,s.jsx)(n.p,{children:"This can be done as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"(function(Scratch) {\r\n  'use strict';\r\n  class Extension {\r\n  \r\n  }\r\n})(Scratch);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["We still have 2 more things to add on before we can load this into PenguinMod.",(0,s.jsx)(n.br,{}),"\n","Let's add the code to register this into PenguinMod, so we don't forget later."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"(function(Scratch) {\r\n  'use strict';\r\n  class Extension {\r\n  \r\n  }\r\n  Scratch.extensions.register(new Extension());\r\n})(Scratch);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This is our first use of the ",(0,s.jsx)(n.code,{children:"Scratch"})," object.",(0,s.jsx)(n.br,{}),"\n","The ",(0,s.jsx)(n.code,{children:"extensions"})," property of the ",(0,s.jsx)(n.code,{children:"Scratch"})," object gives us some small information, and the ability to register our extension."]}),"\n",(0,s.jsxs)(n.p,{children:["There are a few more things that the ",(0,s.jsx)(n.code,{children:"Scratch.extensions"})," object has:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'{\r\n    "unsandboxed": (boolean),\r\n    "isPenguinMod": (boolean)\r\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"unsandboxed"})," will be true if the extension is run unsandboxed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isPenguinMod"})," will be true if loaded into the PenguinMod editor, or if it's in a packaged project."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"defining-our-extension-contents",children:"Defining our extension contents"}),"\n",(0,s.jsx)(n.p,{children:"Now that we have our basic stuff set down, let's define some properties about our extension."}),"\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"getInfo()"})," method in our extension that returns an object:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"class Extension {\r\n  getInfo() {\r\n    return {\r\n      // ...\r\n    };\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"We could put a number of things into here:"}),"\n",(0,s.jsx)(n.h3,{id:"extension-id",children:"Extension ID"}),"\n",(0,s.jsxs)(n.p,{children:["This is a required property.",(0,s.jsx)(n.br,{}),"\n","This should ideally only contain characters a-z and numbers 0-9."]}),"\n",(0,s.jsx)(n.p,{children:"Usually you'll also want to add your name at the start of the ID too to make sure it doesn't conflict with existing extensions."}),"\n",(0,s.jsx)(n.p,{children:"Add it like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'getInfo() {\r\n  return {\r\n    id: "johnMyExtension",\r\n  };\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"extension-name",children:"Extension Name"}),"\n",(0,s.jsxs)(n.p,{children:["This is a required property.",(0,s.jsx)(n.br,{}),"\n","This is the name of the category for the extension. Don't make it too long or it'll look weird."]}),"\n",(0,s.jsx)(n.p,{children:"Add it like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'getInfo() {\r\n  return {\r\n    id: "johnMyExtension",\r\n    name: "My Extension",\r\n  };\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"color1-color2-and-color3",children:"color1, color2, and color3"}),"\n",(0,s.jsx)(n.p,{children:"These all decide the color of the extension and it's blocks."}),"\n",(0,s.jsxs)(n.p,{children:["Most extensions only use ",(0,s.jsx)(n.code,{children:"color1"})," and ",(0,s.jsx)(n.code,{children:"color2"}),", but you can use ",(0,s.jsx)(n.code,{children:"color3"})," too or even just not use any of them."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"color1"})," decides the main color"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"color2"}),' decides a secondary and "shadow" color for rounded menus']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"color3"})," decides an outline color"]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/docimages/color-visual.png",alt:"Image of previous explanation of color properties"}),"\n",(0,s.jsx)(n.p,{children:"Add it like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'getInfo() {\r\n  return {\r\n    id: "johnMyExtension",\r\n    name: "My Extension",\r\n    color1: "#ff0000",\r\n    color2: "#00ff00",\r\n    color3: "#0000ff",\r\n  };\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"docsuri",children:"docsURI"}),"\n",(0,s.jsx)(n.p,{children:"This is usually not included in most extensions, but you can link to another web page that explains your extension."}),"\n",(0,s.jsx)(n.p,{children:"This will add a button to the top of the extension's category that links to the page."}),"\n",(0,s.jsx)("img",{src:"/img/docimages/docsuri.png",alt:"Image of the Open Documentation button"}),"\n",(0,s.jsx)(n.p,{children:"Add it like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'getInfo() {\r\n  return {\r\n    id: "johnMyExtension",\r\n    name: "My Extension",\r\n    docsURI: \'https://example.com\', // change the website link to anything\r\n  };\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"lets-make-a-block",children:"Let's make a block"}),"\n",(0,s.jsx)(n.p,{children:"So we've talked about what the category needs, but we haven't touched blocks."}),"\n",(0,s.jsx)(n.p,{children:"To start with creating a block, we need to first add an array to the extension that contains our blocks:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'getInfo() {\r\n  return {\r\n    id: "johnMyExtension",\r\n    name: "My Extension",\r\n    blocks: [\r\n      // our blocks will go here\r\n    ],\r\n  };\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Let's create a basic block that just logs to the console."})}),"\n",(0,s.jsxs)(n.p,{children:["To do this, we first need to create a method in the class.",(0,s.jsx)(n.br,{}),"\n","Let's call it ",(0,s.jsx)(n.code,{children:"logToConsole()"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"class Extension {\r\n  getInfo() {\r\n    // our earlier code is here...\r\n  }\r\n\r\n  logToConsole() {\r\n    console.log('Hello world!');\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now let's create the block for this."}),"\n",(0,s.jsxs)(n.p,{children:["We need to add an object to the ",(0,s.jsx)(n.code,{children:"blocks"})," array in the ",(0,s.jsx)(n.code,{children:"getInfo"})," method, and the object needs the property ",(0,s.jsx)(n.code,{children:"opcode"})," set to the name of our method.",(0,s.jsx)(n.br,{}),"\n","This is done like so:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"[\r\n  {\r\n    opcode: 'logToConsole'\r\n  }\r\n]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["We want to add some text to the block.",(0,s.jsx)(n.br,{}),"\n","This is what the user will see on the block itself."]}),"\n",(0,s.jsx)("img",{src:"/img/docimages/block_label.png",alt:"Text on a block"}),"\n",(0,s.jsx)(n.p,{children:"This is done like so:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"[\r\n  {\r\n    opcode: 'logToConsole',\r\n    text: 'log to console'\r\n  }\r\n]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Our extension still wont be able to load with this block though, as we are missing one key thing:"}),"\n",(0,s.jsx)(n.h3,{id:"block-types",children:"Block Types"}),"\n",(0,s.jsxs)(n.p,{children:["Our block needs to be a specific type of block.",(0,s.jsx)(n.br,{}),"\n","Blocks have various different shapes and uses, so we need to pick the type of block we are making here."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Here is a table of available block types:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"}}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Explanation"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Image"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Functional when sandboxed"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.COMMAND"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"A placable code block. Can't be placed inside holes."}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_command.png",alt:"next costume block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.REPORTER"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"A round output block that returns a string, number, etc."}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_reporter.png",alt:"(answer) block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.BOOLEAN"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"A spiky output block that returns true or false."}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_boolean.png",alt:"<true> block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.HAT"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["A block that activates the blocks below once a condition is true. Explained ",(0,s.jsx)(n.a,{href:"hats",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_hat.png",alt:"when <> block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.EVENT"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["An event block that will only run from external causes. Explained ",(0,s.jsx)(n.a,{href:"events",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_event.png",alt:"when flag clicked block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u274c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.CONDITIONAL"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["A block that may run blocks inside based on a condition. Explained ",(0,s.jsx)(n.a,{href:"branches",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_conditional.png",alt:"if <> then block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.LOOP"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["A block that may run blocks inside multiple times. Explained ",(0,s.jsx)(n.a,{href:"branches",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_loop.png",alt:"repeat () block"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2753"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.LABEL"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["Not used for real blocks. A text label in the category. Explained ",(0,s.jsx)(n.a,{href:"labels",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_label.png",alt:"category label"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.BUTTON"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["Not used for real blocks. A clickable button in the category. Explained ",(0,s.jsx)(n.a,{href:"buttons",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:(0,s.jsx)("img",{src:"/img/docimages/blocktype_button.png",alt:"category button"})}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Scratch.BlockType.XML"}),(0,s.jsxs)(n.td,{style:{textAlign:"center"},children:["Not used for real blocks. Injects XML to the category. Explained ",(0,s.jsx)(n.a,{href:"xml-blocks",children:"here."})]}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"No visuals for this block type"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["For now, we will only need the ",(0,s.jsx)(n.code,{children:"Scratch.BlockType.COMMAND"})," block type."]}),"\n",(0,s.jsx)(n.p,{children:"This can be added as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"[\r\n  {\r\n    opcode: 'logToConsole',\r\n    text: 'log to console',\r\n    blockType: Scratch.BlockType.COMMAND\r\n  }\r\n]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"our-example-is-done",children:"Our example is done"}),"\n",(0,s.jsx)(n.p,{children:"Our example is done!"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"hello-console.js"})," - ",(0,s.jsx)(n.a,{target:"_blank",href:t(9842).Z+"",children:"View source"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"(function(Scratch) {\r\n  'use strict';\r\n  class Extension {\r\n    getInfo() {\r\n      return {\r\n        id: \"johnMyExtension\",\r\n        name: \"My Extension\",\r\n        blocks: [\r\n          {\r\n            opcode: 'logToConsole',\r\n            text: 'log to console',\r\n            blockType: Scratch.BlockType.COMMAND\r\n          }\r\n        ]\r\n      };\r\n    }\r\n\r\n    logToConsole() {\r\n      console.log('Hello world!');\r\n    }\r\n  }\r\n\r\n  Scratch.extensions.register(new Extension());\r\n})(Scratch);\n"})}),"\n",(0,s.jsx)(n.p,{children:"It should look like this:"}),"\n",(0,s.jsx)("img",{src:"/img/docimages/first-steps.png",alt:"The extension in the toolbox"}),"\n",(0,s.jsx)(n.p,{children:"And clicking the block should log into console:"}),"\n",(0,s.jsx)("img",{src:"/img/docimages/first-steps2.png",alt:"The block logging to console"}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsxs)(n.p,{children:["Let's look into ",(0,s.jsx)(n.a,{href:"t1-making-a-reporter",children:"making a block that returns values."})]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},9842:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/files/hello-console-7c550ce8ff9977524fc79924f7b2fed4.js"},1151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>l});var s=t(7294);const o={},r=s.createContext(o);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);