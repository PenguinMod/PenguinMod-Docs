<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-development/extensions/api/custom-variables" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Variable APIs | PenguinMod</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.penguinmod.com/development/extensions/api/custom-variables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Variable APIs | PenguinMod"><meta data-rh="true" name="description" content="interfaces for creating and managing variables other then the default scratch set. see custom types and category ordering for more information on how to display these custom variables"><meta data-rh="true" property="og:description" content="interfaces for creating and managing variables other then the default scratch set. see custom types and category ordering for more information on how to display these custom variables"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.penguinmod.com/development/extensions/api/custom-variables"><link data-rh="true" rel="alternate" href="https://docs.penguinmod.com/development/extensions/api/custom-variables" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.penguinmod.com/development/extensions/api/custom-variables" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.cfe52edd.css">
<script src="/assets/js/runtime~main.1dc1e94d.js" defer="defer"></script>
<script src="/assets/js/main.ea7744a1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.png" alt="PenguinMod Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.png" alt="PenguinMod Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">PenguinMod</b></a><a class="navbar__item navbar__link" href="/blocks/">Help with Blocks</a><a class="navbar__item navbar__link" href="/extensions/">Help with Extensions</a><a class="navbar__item navbar__link" href="/development/extensions/">Custom Extensions</a><a class="navbar__item navbar__link" href="/save-format/core-concepts">Concepting a new Save File Format</a></div><div class="navbar__items navbar__items--right"><a href="https://penguinmod.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PenguinMod<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/PenguinMod/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/development/extensions/api/">APIs</a><button aria-label="Collapse sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/development/extensions/api/blocks/">Blocks</a><button aria-label="Expand sidebar category &#x27;Blocks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/development/extensions/api/categories/category-info">categories</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/development/extensions/api/custom-inputs">Custom Input API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/development/extensions/api/custom-modals">Custom Modal API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/development/extensions/api/custom-types">Custom Type APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/development/extensions/api/custom-variables">Variable APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/development/extensions/api/serialization">Extension Data</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/">Explaining Custom Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/introduction">Creating a Custom Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/starting-out">First steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/making-a-reporter">Making a reporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/booleans">Booleans</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/errors">Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/development/extensions/arguments-and-their-types">Arguments and their Types</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/development/extensions/api/"><span itemprop="name">APIs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Variable APIs</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Variable APIs</h1></header><p>interfaces for creating and managing variables other then the default scratch set. see <a href="/development/extensions/api/custom-types">custom types</a> and <a href="/development/extensions/api/categories/category-info">category ordering</a> for more information on how to display these custom variables</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="menus">menus<a href="#menus" class="hash-link" aria-label="Direct link to menus" title="Direct link to menus">​</a></h2>
<p>setting <code>variableType</code> in a menu object to a string value of what variable type you want it to show will make the menu into a variable menu, no other arguments are required. note that the variable type of <code>&quot;scalar&quot;</code> will will be replaced with <code>Variable.SCALAR_TYPE</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="registration-and-utilization">registration and utilization<a href="#registration-and-utilization" class="hash-link" aria-label="Direct link to registration and utilization" title="Direct link to registration and utilization">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variable-object-shape"><code>Variable</code> object shape<a href="#variable-object-shape" class="hash-link" aria-label="Direct link to variable-object-shape" title="Direct link to variable-object-shape">​</a></h3>
<ul>
<li><code>constructor(runtime, ...args)</code>: makes the variable, args is the list of args passed to <code>newVariableInstance</code>, the list of args will normally be made by your code in some way, either because of serialization or because of you creating the variable.</li>
<li><code>toXML(isLocal: Boolean): String</code>: the returned string should be the xml <code>&lt;variable type=&quot;{typeName}&quot; id=&quot;{this.id}&quot; islocal=&quot;{isLocal}&quot; iscloud=&quot;{this.isCloud | false}&quot;&gt;{this.name}&lt;/variable&gt;</code> (where the things contained inside <!-- --> are variables/constants from or for the variable class that you need to pass down inside the xml), this function is ran any time variables need to be passed from the vm to blockly as one massive glob.</li>
<li><code>serialize(obj = this): Array</code>: the array of arguments (to be serialized) that represents this variable, when loading these arguments all get passed down into the constructor via the args list.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="registervariabletype-string-varclass-variable"><code>registerVariable(type: string, varClass: Variable)</code><a href="#registervariabletype-string-varclass-variable" class="hash-link" aria-label="Direct link to registervariabletype-string-varclass-variable" title="Direct link to registervariabletype-string-varclass-variable">​</a></h3>
<blockquote>
<p>running this function will overwrite any existing variables of that type, except for <code>Variable.SCALAR_TYPE</code>, <code>Variable.LIST_TYPE</code> and <code>Variable.BROADCAST_MESSAGE_TYPE</code></p>
</blockquote>
<p>run to register a custom type with the specified class as the variable content handler</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unregistervariabletype-string"><code>unregisterVariable(type: string)</code><a href="#unregistervariabletype-string" class="hash-link" aria-label="Direct link to unregistervariabletype-string" title="Direct link to unregistervariabletype-string">​</a></h3>
<blockquote>
<p>running this function will not remove the default operation of the types <code>Variable.SCALAR_TYPE</code>, <code>Variable.LIST_TYPE</code> and <code>Variable.BROADCAST_MESSAGE_TYPE</code></p>
</blockquote>
<p>will remove the given type from the custom type registerations</p>
<p>will throw an error if the given type doesnt exist</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="newvariableinstancetype-string-args-new-variable--type-string-value-args-mustrecreate-true"><code>newVariableInstance(type: string, ...args): new Variable | {type: string, value: args, mustRecreate: true}</code><a href="#newvariableinstancetype-string-args-new-variable--type-string-value-args-mustrecreate-true" class="hash-link" aria-label="Direct link to newvariableinstancetype-string-args-new-variable--type-string-value-args-mustrecreate-true" title="Direct link to newvariableinstancetype-string-args-new-variable--type-string-value-args-mustrecreate-true">​</a></h3>
<p>creates a new variable instance under the given type</p>
<p>if the given type doesnt exist yet it will return <code>{type: string, value: args, mustRecreate: true}</code>, this is for the <code>addTarget</code> function to find custom variable types that needed to wait for an extension load. should be treated as a failure to create the variable.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime_extensionvariables-string-variable"><code>runtime._extensionVariables: {[string]: Variable}</code><a href="#runtime_extensionvariables-string-variable" class="hash-link" aria-label="Direct link to runtime_extensionvariables-string-variable" title="Direct link to runtime_extensionvariables-string-variable">​</a></h3>
<p>contains the list of all registered custom variable types, each key is the variable type</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/development/extensions/api/custom-types"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Custom Type APIs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/development/extensions/api/serialization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Extension Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#menus" class="table-of-contents__link toc-highlight">menus</a></li><li><a href="#registration-and-utilization" class="table-of-contents__link toc-highlight">registration and utilization</a><ul><li><a href="#variable-object-shape" class="table-of-contents__link toc-highlight"><code>Variable</code> object shape</a></li><li><a href="#registervariabletype-string-varclass-variable" class="table-of-contents__link toc-highlight"><code>registerVariable(type: string, varClass: Variable)</code></a></li><li><a href="#unregistervariabletype-string" class="table-of-contents__link toc-highlight"><code>unregisterVariable(type: string)</code></a></li><li><a href="#newvariableinstancetype-string-args-new-variable--type-string-value-args-mustrecreate-true" class="table-of-contents__link toc-highlight"><code>newVariableInstance(type: string, ...args): new Variable | {type: string, value: args, mustRecreate: true}</code></a></li><li><a href="#runtime_extensionvariables-string-variable" class="table-of-contents__link toc-highlight"><code>runtime._extensionVariables: {[string]: Variable}</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>